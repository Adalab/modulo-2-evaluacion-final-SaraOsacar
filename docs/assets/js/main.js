"use strict";const charactersList=document.querySelector(".js_listCharacters"),urlCharacters="https://api.disneyapi.dev/character?pageSize=50",favourites=document.querySelector(".js_listFavourites");let listCharactersData=[],listFavouritesCharacters=[];const favStorage=JSON.parse(localStorage.getItem("charactersFavourites"));function getFavStorage(){favStorage&&(listFavouritesCharacters=favStorage,renderFavouriteCards(listFavouritesCharacters))}function renderListCharacters(a){for(const r of a)charactersList.innerHTML+=renderOneCharacter(r);addEventFavouritesCharacters()}function renderOneCharacter(a){let r=a.imageUrl;return""===r&&(r="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney"),`<li class="cardEachCharacter" id="${a._id}"> \n                <article>\n                <img src="${r}" alt="${a.name}" class="imgCharacters"/>\n                <p js_name">${a.name}</p>\n                </article>\n            </li>`}function addEventFavouritesCharacters(){const a=document.querySelectorAll(".cardEachCharacter");for(const r of a)r.addEventListener("click",handleClick)}function renderFavouriteCards(a){let r="";for(const e of a)r+=`<div class="characters-div">\n  <div class="characters js_favourite-card" id="${e._id}">\n  <p class="names"> Name:${e.name}</p>\n  <img src="${e.imageUrl}" alt="${e.name}" class="imgFavourites"/> \n  </div>\n  </div>`;favourites.innerHTML=r}function handleClick(a){const r=parseInt(a.currentTarget.id),e=listCharactersData.find(a=>a._id===r),t=listFavouritesCharacters.findIndex(a=>a._id===r);-1===t?listFavouritesCharacters.push(e):listFavouritesCharacters.splice(t,1),favourites.innerHTML=renderFavouriteCards(listFavouritesCharacters),renderFavouriteCards(listFavouritesCharacters),localStorage.setItem("charactersFavourites",JSON.stringify(listFavouritesCharacters))}getFavStorage(),fetch(urlCharacters).then(a=>a.json()).then(a=>{listCharactersData=a.data,renderListCharacters(listCharactersData)});